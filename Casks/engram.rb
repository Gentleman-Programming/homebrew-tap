# This file was generated by GoReleaser. DO NOT EDIT.
cask "engram" do
  name "engram"
  desc "Persistent memory for AI coding agents. Agent-agnostic, single binary, zero dependencies."
  homepage "https://github.com/Gentleman-Programming/engram"
  version "0.1.3"

  livecheck do
    skip "Auto-generated on release."
  end

  binary "engram"

  on_macos do
    on_intel do
      url "https://github.com/Gentleman-Programming/engram/releases/download/v#{version}/engram_#{version}_darwin_amd64.tar.gz"
      sha256 "c7c5b74b221d1bc879b58eb8caeca5c83df46dfe4f51863bb993d3017a75b28a"
    end
    on_arm do
      url "https://github.com/Gentleman-Programming/engram/releases/download/v#{version}/engram_#{version}_darwin_arm64.tar.gz"
      sha256 "f029c0ef9ddc0471c6dd3342d9af8ecff8faf7537c8aaab1ebd0c18362580410"
    end
  end

  on_linux do
    on_intel do
      url "https://github.com/Gentleman-Programming/engram/releases/download/v#{version}/engram_#{version}_linux_amd64.tar.gz"
      sha256 "4bc8cdcdca8a3f2cf3263780027c9764e3f983be8031a73ac66b78ea8b52d01b"
    end
    on_arm do
      url "https://github.com/Gentleman-Programming/engram/releases/download/v#{version}/engram_#{version}_linux_arm64.tar.gz"
      sha256 "15d7b12aaa8d1959bfc753f29392b8b07ab3e5c053928d1520891a3063f8fe8d"
    end
  end

  postflight do
    if OS.mac?
      system_command "/usr/bin/xattr", args: ["-dr", "com.apple.quarantine", "#{staged_path}/engram"]
    end
  end

  # No zap stanza required
end
